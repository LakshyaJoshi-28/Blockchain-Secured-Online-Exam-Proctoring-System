<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Exam List</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<style>
body { font-family:Arial, sans-serif; background:#f4f7fa; }
.container { max-width:900px; margin:40px auto; padding:20px; background:#fff; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.1); }
h1 { text-align:center; }
table { width:100%; border-collapse:collapse; margin-top:20px; }
th, td { border:1px solid #ccc; padding:8px; text-align:center; }
th { background:#3498db; color:white; }
a, button { text-decoration:none; padding:5px 10px; border-radius:5px; border:none; cursor:pointer; }
a.view { background:#2ecc71; color:white; }
a.edit { background:#f39c12; color:white; }
form button.delete { background:#e74c3c; color:white; }

/* Flash messages */
.flash { padding:10px; margin-bottom:12px; border-radius:5px; }
.flash.success { background:#2ecc71; color:white; }
.flash.error { background:#e74c3c; color:white; }
</style>
</head>
<body>
<div class="container">
<h1>Exam List</h1>

<!-- Flash messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="flash {{ category }}">{{ message }}</div>
    {% endfor %}
  {% endif %}
{% endwith %}

<a href="{{ url_for('create_exam') }}" style="background:#3498db;color:white;padding:6px 12px;border-radius:5px;">+ Create Exam</a>

<table>
<tr>
<th>ID</th>
<th>Title</th>
<th>Start Time</th>
<th>End Time</th>
<th>Duration (min)</th>
<th>Actions</th>
</tr>
{% for exam in exams %}
<tr>
<td>{{ exam.id }}</td>
<td>{{ exam.title }}</td>
<td>{{ exam.start_time }}</td>
<td>{{ exam.end_time }}</td>
<td>{{ exam.duration }}</td>
<td>
<a href="{{ url_for('view_exam', exam_id=exam.id) }}" class="view">View</a>
|
<a href="{{ url_for('edit_exam', exam_id=exam.id) }}" class="edit">Edit</a>
|
<a href="{{ url_for('instructions', exam_id=exam.id) }}" class="view">Take</a>
|
<form method="post" action="{{ url_for('delete_exam', exam_id=exam.id) }}" style="display:inline;" onsubmit="return confirmDelete();">
  <button type="submit" class="delete">Delete</button>
</form>
</td>
</tr>
{% endfor %}
</table>
</div>

<script>
function confirmDelete() {
    return confirm("⚠️ Are you sure you want to delete this exam? This action cannot be undone.");
}
</script>

</body>
</html>
